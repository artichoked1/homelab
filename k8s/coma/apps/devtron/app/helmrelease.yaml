apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: devtron
  namespace: devtroncd
spec:
  chart:
    spec:
      chart: devtron-operator
      reconcileStrategy: ChartVersion
      sourceRef:
        kind: HelmRepository
        name: devtron
        namespace: flux-system
      version: 0.22.95
  interval: 1m0s
  values:
    externalPostgres:
      enabled: true
      PG_PASSWORD: ${DEVTRON_POSTGRES_PASS}
      PG_ADDR: main-postgres-rw.databases.svc.cluster.local
      PG_PORT: 5432
      PG_USER: devtron
      PG_DATABASE: devtron
    dbConfig:
      PG_PASSWORD: ${DEVTRON_POSTGRES_PASS}
      PG_ADDR: main-postgres-rw.databases.svc.cluster.local
      PG_PORT: 5432
      PG_USER: devtron
      PG_DATABASE: devtron
